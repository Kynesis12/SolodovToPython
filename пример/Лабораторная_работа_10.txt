Лабораторная 10
Многооконные приложения

Предмет исследований
Исследование использование нескольких окон форм (Form) в одном приложении.
Возможность вывода сообщений при работе с приложениями Windows Form.
Открытие и закрытие новых окон в приложениях.
Создание парольного доступа к окнам приложения.

Задание. Создайте программу, в которой предусмотрена работа с несколькими окнами, организация парольного доступа к скрытым окном и вывод сообщений об ошибках через MessageBox.
В примере написано вставьте свою фотографию. Необходимо вставить свою личную фотографию.
В примере имена форм оставлены такими как создаются автоматически при их создании. Необходимо присвоить заголовкам форм ваше Ф.И.О и номер группы.
Пример. В примере показана программа, демонстрирующая работу с многооконными программами и организацию парольного доступа к окнам а так же работу с MessageBox. В программе используются компоненты Button, TextBox и PictureBox.  Все эти компоненты можно найти в "Панели элементов" вкладка "Стандартные элементы управления".
При запуске программы открывается "Главное окно" (форма 1) с двумя кнопками.

При нажатии на кнопку с именем "Окно 1" открывается "Окно  (форма 2) с картинкой. Например

Если пользователь нажимает кнопку "Окно 2", то вызывается форма 4, окно которой не отображается, а из нее вызывается форма 3. Появляется "Окно  (форма 3) с запросом пароля.

Если пароль введен правильно, то пользователь получает доступ к "Окну  (форма 4).

Окно с запросом пароля автоматически закрываетчя. Если пользователь закрывает окно ввода пароля, то приложение завершается.
Листинг программы (Форма 1)
using System;
using System.Windows.Forms;

namespace LabWindows
{
    public partial class Form1: Form
    {
        public Form1()
        {
            InitializeComponent;/		// Показать окно 1
        }
        private void button1_Click(object sender, EventArgs e)
        {
            Form2 f2 = new Form2();
            f2.Show();					// Показать окно 2
        }
        private void button2_Click(object sender, EventArgs e)
        {
            Form4 f4 = new Form4();
            f4.Show();					// Показать окно 4
        }
    }
}
Листинг программы (Форма 2)
using System.Windows.Forms;

namespace LabWindows
{
    public partial class Form2 : Form
    {
        public Form2()
        {
            InitializeComponent();		// Показать окно 2
        }
    }
}
Отображается окно запроса пароля.

Листинг программы (Форма 3)
using System;
using System.Windows.Forms;

namespace LabWindows
{
    public partial class Form3 : Form
    {
        bool key = false;
        public Form3()				
        {
            InitializeComponent();		// Показать окно 3
        }

        private void button1_Click(object sender, EventArgs e)
        {
            string pass = "123";			// Это пароль
            if (pass == textBox1.Text)
            {
                key = true;
                Form3.ActiveForm.Close();		// Закрыть окно 3
            }
            else
                MessageBox.Show("Ошибка!!! Пароля!!");		// Вывод сообщения
        }
        private void Form3_FormClosing(object sender, FormClosingEventArgs e)
        {
            if (key == false)
            {
                int a = 0;
               Environment.Exit(a);		// Закрыть приложение
            }
        }  
    }
}
Листинг программы (Форма 4)
using System.Windows.Forms;

namespace LabWindows
{
    public partial class Form4 :Form
    {
        public Form4()
        {
            Form3 f3 = new Form3();
            f3.ShowDialog();			// Показать окно 4
            InitializeComponent();   
        }    
    }
}
При запуске программы мы видим следующее:


Если нажата кнопка «Окно 1», то

Если нажата кнопка «Окно 2», то

Если пароль правильный, то


Контрольные вопросы
Открытие новых окон в приложениях.
Организация доступа к окнам.
Работа с MessageBox.
Организация завершение приложения.
Интеграция изображений в форму.
Закрытие окно в приложении.
Работа с событием FormClosing.
Объекты Show или Showdialog.
