Лекция 7
Массивы (Списки) в Python

Цель лекции. Дать определение, что такое список в Python. Изучить структуру списков, какие они бывают. Уяснить, как объявляется формат списка. Что такое инициализация. Рассмотреть примеры решения задач со списками.

Список (list) – структура данных, представляющая собой набор переменных, имеющих общее имя. 
Каждый элемент списка однозначно определяется именем и индексом (номером элемента в списке). 
Индексы списка принадлежат целочисленному типу. Списки позволят легко обрабатывать большое количество связанных переменных.
Список может быть: 
одномерным   A1 [  ]
двумерным   A2 [ [ ], [ ] ] (список списков)       

Список заданный математически имеет вид: 
одномерный  - строка - A = [1, 5, 8, 3, 4, 2, 7, 0]  или столбец         
двумерный  B ( например, 3 – строки и 2 – столбца )
   
Формат объявления одномерного списка в Python: 
ИмяСписка = [элемент1, элемент2, ...]  # с инициализацией
ИмяСписка = []  # пустой список
ИмяСписка = [0] * размер  # список с нулевыми элементами

Формат объявления двумерного списка в Python: 
ИмяСписка = [[элемент11, элемент12], [элемент21, элемент22]]  # с инициализацией
ИмяСписка = [[0] * столбцы for i in range(строки)]  # пустой двумерный список

ИмяСписка – имя списка.
Элементы списка могут быть любых типов (int, float, str, bool и даже другие списки).
Доступ к элементу списка осуществляется посредством индекса (позицию элемента внутри списка): 
ИмяСписка [ НомерЭлемента ].
Индексация списков начинается с нуля: список с элементами n индексируется от 0 до n-1. При обращении к элементу списка, надо указать его имя и номер элемента в квадратных скобках.
Например: A[0] – первый элемент списка A.
                    A[4] – пятый элемент списка А.
B[2][3] – элемент, лежащий на пересечении 3 строки и 4 столбца списка B.

Примеры объявления списков:
# Одномерные списки
A = [0] * 5  # одномерный список А из 5 целых чисел
H = [''] * 10  # одномерный список H из 10 символов
M = [[0] * 3 for i in range(2)]  # двумерный список 2х3 вещественных 
                                 #чисел, содержащий 2 строки и 3 столбца

При объявлении списка можно выполнить его инициализацию, т.е. присвоить начальные значения элементам списка в момент его создания. 
Формат объявления одномерного списка с инициализацией: 
ИмяСписка = [v1, v2, v3, ...vn]

Формат объявления двумерного списка в Python: 
ИмяСписка = [[v11, v12, ...v1j], [vi1, vi2, ...vij]]
                                                               #1-я строка ……… i-я строка
Здесь начальные значения, присваиваемые элементам списка, задаются с помощью последовательности v1, v2, v3,…vn  для одномерного списка и vij – для списка размерностью ( i x j ), где i  – номер строки, а j – номер столбца для двумерного списка.

Примеры объявления списков с инициализацией:
C = [1, 3, 5, -7, 9]  # список С инициализирован пятью элементами
D = [1.5, 2.1, 3.65, 4.7, 5.14, 6.36]  # список вещественных чисел
Q = ['a', 'b', 'g']  # список Q инициализирован тремя символами
Team = ["Zenith", "Dynamo", "Sparta", "Rotor", "CSK"]
M = [[1, 2, 3], [4, 5, 6]]  # список M: 2 строки и 3 столбца инициализирован 
L = [[0, 2, 4, 6], [2, 9, 6, 3], [4, 7, 5, 8], [1, 6, 5, 7]] 
                          #список L (4х4) инициализирован

Список можно инициализировать во время выполнения программы в цикле.
Например:
R = [0] * 5
for k in range(5):
    print(f"Введите {k} элемент списка R")
    R[k] = int(input())

В Python также предусмотрена инструкция for для итерации элементов списка. 
Синтаксис инструкции for:
for элемент in ИмяСписка:
    Инструкции тела цикла

элемент – переменная для элемента списка.
ИмяСписка – имя списка.

Пример. Следующий код создает список Числа и осуществляет его итерацию с помощью инструкции for.
Числа = [4, 5, 6, 1, 2, 3, -2, -1, 0]
for i in Числа:
    print(i, end=" ")

Вывод в консоль строки: 4 5 6 1 2 3 -2 -1 0     

Операции, производимые над элементами списка, полностью определяются типом этих элементов.

7.1 Операции со списками
Типовые операции при работе со списками:
Вывод списка;
Ввод списка;
Поиск максимального/минимального элемента списка;
Поиск заданного элемента списка;
Сортировка списка.
Часто используемые операции: накопление суммы элементов списка, расчет среднего арифметического значения элементов списка.

Вывод списка
Под выводом списка понимается вывод на экран монитора, значений элементов заданного / сформированного списка.
При выводе всех элементов списка удобно использовать оператор цикла for, при этом переменная счетчик может быть использована в качестве индекса элементов списка.

Пример вывода одномерного списка Team:
Team = ["Zenit", "Dynamo", "Sparta", "Rotor", "CSK"]
for i in Team:
    print(i, end=" ")

Ввод списка
Под вводом списка понимается процесс получения от пользователя во время работы программы, значений элементов списка.
При вводе элементов списка удобно использовать оператор цикла for, при этом переменная счетчик может быть использована в качестве индекса элементов списка.
Иногда в качестве элементов списка используют случайные числа, которые можно получить с помощью функции random.randint() - случайное число в заданном диапазоне. 

Программа помещает в список A числа от 0 до 9.
import random

A = [0] * 10  # одномерный список А из 10 целых чисел
for i in range(10):
    A[i] = i
for i in range(10):
    print(f"A[{i}]={A[i]}")

Таблица 7.1
Схематично представленный список А 

Пример заполнения двумерного списка Т[3x4] числами от 1 до 12:  
import random

T = [[0] * 4 for i in range(3)]
print("Сформированная матрица")
print()
for i in range(3):
    for j in range(4):
        T[i][j] = (i * 4) + j + 1
        print(f"{T[i][j]:2d}", end=" ")
    print()

В этом примере элемент списка Т[0][0] примет значение 1, Т[0][1] примет значение 2 … Т[2][3] примет значение 12. Схематично список Т можно представить:

Поиск максимального ( или минимального ) элемента списка
Алгоритм поиска. Делается предположение, что 1-й элемент списка max (min), затем все элементы списка сравниваются с ним.  Если во время проверки обнаруживается, что очередной элемент больше (меньше) принятого за max (min), то этот элемент становится максимальным (минимальным).

Пример 1. В списке X из 10 элементов вычислить наибольший элемент списка и его номер.
X = [-5, 6, -8, 2, 4, 9, -7, 4, 1, 0]  # одномерный список Х из 10 целых чисел        
Xmax = X[0]  # максимальный элемент
Imax = 0     # номер максимального элемента

for i in range(10):
    print(f"X[{i}]={X[i]}")
print()  # вывод элементов списка

for i in range(1, 10):
    if X[i] > Xmax:
        Xmax = X[i]  # выявление max
        Imax = i

print(f"Максимальный элемент: {Xmax}")
print(f"Его номер: {Imax + 1}")

При выявлении минимального элемента условие > заменяется на < :
if X[i] < Xmin:
    Xmin = X[i]  # выявление min
    Imin = i     # его номера

Поиск заданного элемента списка
Под поиском заданного элемента списка понимается необходимость определить, содержит ли список определенную информацию или нет. Наиболее простой алгоритм поиска – простой перебор неупорядоченных элементов. 
Поиск осуществляется последовательным сравнением элементов списка с образцом до тех пор, пока не будет найден элемент, равный образцу, или пока не будут проверены все элементы.
Для поиска элементов используют операторы цикла for, while

Пример 2. Найти заданный элемент в списке и вывести его на экран дисплея.
Mas = [-5, 6, -8, 2, 4, 9, -7, 4, 1, 0]  # одномерный список Mas из 10 целых чисел        
obr = int(input("Введите образец для поиска: "))  # образец для поиска
Yes = False  # признак обнаружения

for i in range(10):
    print(f"Mas[{i}]={Mas[i]}")
print()

i = 0
while i < 10 and not Yes:
    if Mas[i] == obr:
        Yes = True
        break
    else:
        i = i + 1

if Yes:
    print(f"Имеется совпадение с элементом {Mas[i]}. Его индекс: {i}")
else:
    print("Совпадение с образцом отсутствует")

Сортировка списка
Под сортировкой списка подразумевается процесс перестановки элементов списка, с целью размещения элементов списка в определенном порядке. 
Например, для целых чисел А после сортировки по возрастанию должно выполняться условие:
A[0] <= A[1] <= A[2] <= ... <= A[size-1], где size – длина списка

Алгоритм сортировки:
1. Просмотреть список от 1 элемента, найти min элемент и поместить его на место 1 элемента, а 1-й на место min.
2. Просмотреть список от 2 элемента, найти min элемент и поместить его на место 2 элемента, а 2-й на место min
3. И так далее до последнего элемента.

Элементы списка А
A[0] = 2
A[1] = 6
A[2] = -5
A[3] = 3
A[4] = 20
A[5] = -10
A[6] = 8
A[7] = 0
A[8] = 9
A[9] = -2

Пример 3. Отсортировать список целых чисел по возрастанию.
A = [2, 6, -5, 3, 20, -10, 8, 0, 9, -2]  # одномерный список А из 10 целых чисел        

for i in range(10):
    print(f"A[{i}]={A[i]}")
print()
print("Сортировка списка")
print()

for i in range(9):
    min_idx = i
    for j in range(i + 1, 10):
        if A[j] < A[min_idx]:
            min_idx = j
    A[i], A[min_idx] = A[min_idx], A[i]  # обмен элементов
    
    for k in range(10):
        print(f" {A[k]}", end="")
    print()

print()
print("Список отсортирован")
print()
for k in range(10):
    print(f" {A[k]}", end="")

Расчет статистических показателей

Пример 4. Рассчитать суммарное и среднее значение элементов заданного списка. 
N = [99, 10, 100, 18, 78, 23, 63, 9, 87, 49]  # одномерный список А из 10 целых чисел        
sum_val = 0  # суммарное значение
for i in range(10):
    sum_val = sum_val + N[i]
avg = sum_val / 10

print(f"Сумма: {sum_val}")
print(f"Среднее: {avg}")

# Для двумерного списка
N = [[-99, 10, 50, 18], [78, -23, 63, 9], [87, 49, -55, 10], [16, 8, 95, -16]]
# двумерный список N из 4x4 целых чисел        

print("Матрица N[4,4] целых чисел")
print()  # Вывод матрицы
for i in range(4):
    for j in range(4):
        print(f"{N[i][j]:2d}   ", end="")
    print()
print()

sum_val = 0  # суммарное значение
c = 0  # счетчик для подсчета количества элементов
for i in range(4):
    for j in range(4):
        sum_val = sum_val + N[i][j]
        c = c + 1

avg = sum_val / c
print("Результаты")
print()        
print(f"Сумма: {sum_val}")
print(f"Среднее: {avg}")

Использование генератора случайных чисел
Иногда в качестве элементов списка используют случайные числа, которые можно получить с помощью функции random.randint(), которая генерирует случайное число в заданном диапазоне. 

Пример 5. Ввод одномерного списка A с использованием программного генератора случайных чисел.
import random

n = 0
N = 10  # Переменные типа int
print()
A = [0] * N  # Список типа int
print("Создан список A случайных целых чисел")
print()
print("Номер n" + " Значение A[n]")
for n in range(N):
    A[n] = random.randint(0, 99)  # Генерация случайного числа в диапазоне от 0 до 99
    print(f" {n} {A[n]:10d}")

print()
print("Нажмите любую клавишу")
input()  # Пауза

Как видно генератор выдает числа в диапазоне от 0 до 99

Пример 6. Вычислить наименьший элемент Mmin списка M и его порядковый номер Nmin. Размерность списка N=10. В программе элементы списка создаются генератором случайных чисел.
import random

n = 0
N = 10
Nmin = 0
Mmin = 0  # Переменные типа int
print()
M = [0] * N  # Список типа int
print("Создан список M случайных целых чисел")
print()
print("Номер n" + " Значение M[n]")
for n in range(N):
    M[n] = random.randint(0, 99)  # Генерация случайного числа
    print(f" {n} {M[n]:10d}")

Mmin = M[0]  # Предположение
Nmin = 0
for n in range(1, N):
    if M[n] < Mmin:  # Обнаружение минимума
        Mmin = M[n]
        Nmin = n

print()
print("Результаты")
print()
print(f"Nmin={Nmin}")  # Вывод Nmin
print(f"Mmin={Mmin}")  # Вывод Mmin
print()
print("Нажмите любую клавишу")
input()  # Пауза

Пример 7. Вывести квадратную матрицу X размером RxC в виде таблицы. Найти максимальное значение элемента и его координаты: номер строки R и номер столбца C. 
import random

print("Введите число строк R и столбцов матрицы")
R = int(input("Число строк R="))  # Введите R
C = int(input("Число столбцов C="))  # Введите C
print()

M = [[0] * C for i in range(R)]  # Матрица M[R,C] типа int
Mmax = 0
Rmax = 0
Cmax = 0

for r in range(R):  # Внешний цикл по строкам
    for c in range(C):  # Внутренний цикл по столбцам
        Mm = random.randint(0, 99)  # Генерация случайного числа от 0 до 99
        M[r][c] = Mm
        if M[r][c] > Mmax:  # Обнаружение максимума
            Mmax = M[r][c]  # Значение максимума
            Rmax = r  # Номер строки
            Cmax = c  # Номер столбца

# Вывод матрицы
print("Создана матрица M[R,C] случайных целых чисел")
print()
for r in range(R):
    for c in range(C):
        print(f"{M[r][c]:2d}   ", end="")
    print()

print()
print("Результаты")
print()
print(f"Максимальное значение Mmax={Mmax}")  # Вывод Mmax
print(f"Номер строки Rmax={Rmax}")  # Вывод Rmax
print(f"Номер столбца Cmax={Cmax}")  # Вывод Cmax
input()  # Пауза

По результату нужно проверить правильность исполнения алгоритма.

Списки строк
Подобно другим типам данных строки могут быть собраны в списки. 

Пример 8. В заданном строковом списке заменить одни слова на другие.
str_list = ["Это ", "очень ", "простой ", "тест."]
print("Исходный список: ")
print()
for i in range(len(str_list)):
    print(str_list[i] + "  ", end="")
print("\n")  # Вывод на печать через клавишу Tab

# Изменяем строку
str_list[1] = "тоже "
str_list[3] = "тест, не правда ли?"

print("Модифицированный список: ")
print()
for i in range(len(str_list)):
    print(str_list[i] + "  ", end="")
input()  # Пауза

Пример 9. Ввести список символов и заменить один из символов, например 'a' на другой, например 'x'. Подсчитать количество замен.
Q = [''] * 10
a = 'a'
x = 'x'
c = 0  # Количество замен

print("Ввод символов в список Q")
for k in range(10):
    print(f"Введите {k} элемент списка Q")
    Q[k] = input()

print()
print("Исходный список Q: ")
for k in Q:
    print(f"{k} ", end="")  # вывод элементов списка Q
print()

for k in range(10):
    if Q[k] == 'a':  # символ, который надо найти
        Q[k] = 'x'  # символ, на который надо заменить
        c = c + 1  # количество замен

print()
print("Модифицированный список Q: ")
for k in Q:
    print(f"{k} ", end="")  # вывод элементов списка S
print()
print()
print(f"Количество замен = {c}")
input()  # Пауза

Итоги лекции. В лекции были представлены примеры решения задач со списками, как одномерными, так и двумерными. Было дано определение списка, изучены способы задания, вывод. Изучены форматы объявления списка как одномерного, так и двумерного, инструкция for. Использование генератора чисел при задании списка.

Контрольные вопросы
Что такое список в Python?
Описание типа - список.
Какие операторы языка можно использовать для описания списков?
Особенности организации цикла при обработке списков?
Особенности программирования при обработке списков?
Особенность ввода и вывода списков?
Отличие задания одномерного списка от двумерного.
Как создать двумерный список случайных целых чисел?
Как создать двумерный список вещественных чисел?
Каков формат объявления двумерного списка?
С чего начинается индексация списков?
